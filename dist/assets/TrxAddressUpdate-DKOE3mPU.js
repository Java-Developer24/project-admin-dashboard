import{A as b,r as a,u as j,j as e,B as d,I as v,b as p,_ as s}from"./index--FpPv6_1.js";import{I as m}from"./Input-C-s0KhfE.js";import{L as u}from"./Label-B-Rr7N0l.js";import"./index-ny5ticeX.js";import"./index-DiOThvEn.js";const y=()=>{const[n,o]=a.useState(""),[l,h]=a.useState(""),c=localStorage.getItem("token"),f=j(),i=()=>p.get("/api/recharge/admin-api/recharge-api-data-trx/get-recharge-trx?type=trx",{headers:{Authorization:`Bearer ${c}`}}).then(r=>{h(r.data.api_key)}).catch(r=>{console.error("Error fetching servers:",r),r.response?s.error(r.response.data.message||"Failed to update OTP check setting"):r.request?s.error("No response received from server"):s.error(`Error: ${r.message}`)});a.useEffect(()=>{i()},[]);const x=()=>f("/admin-panel"),g=async r=>{r.preventDefault();try{const t=await p.post("/api/recharge/admin-api/recharge-data-update-trx/update-recharge-trx",{recharge_type:"trx",api_key:l,newTrxAddress:n},{headers:{Authorization:`Bearer ${c}`}});o(""),s.success("Trx Address updated successfully"),i(),console.log(t.data)}catch(t){console.error("Failed to update API key:",t)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full my-4 flex items-center justify-between",children:e.jsxs(d,{variant:"link",onClick:x,className:"text-sm font-normal text-[#8C8C8C] !no-underline p-1 h-0 flex gap-2",children:[e.jsx(v.arrowLeft,{className:"w-4 h-4"})," Update TRX Address"]})}),e.jsx("div",{className:"flex items-center justify-center pt-[1rem]",children:e.jsx("div",{className:"bg-transparent w-full max-w-md rounded-lg mb-[60px] border-none dark",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"currentTrxAddress",className:"block text-base text-[#9d9d9d] font-normal py-3",children:"Current TRX Address"}),e.jsx(m,{id:"currentTrxAddress",type:"text",disabled:!0,className:"w-full h-12 pl-3 rounded-lg disabled:text-white disabled:!border-[#e0effe] focus:border-none disabled:opacity-100 disabled:bg-[#9D9D9D]/50",value:l})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"newTrxAddress",className:"block text-base text-[#9d9d9d] font-normal py-3",children:"Enter New TRX Address"}),e.jsx(m,{id:"newTrxAddress",type:"text",placeholder:"80",required:!0,className:"w-full h-12 pl-3 rounded-lg text-[#9d9d9d] !placeholder-[#9d9d9d] bg-transparent border-[#e0effe] focus:border-none",value:n,onChange:r=>o(r.target.value)})]})]}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-4 mt-8",children:[e.jsx(d,{className:"py-1 px-8 text-xs bg-[#129BFF] text-white hover:bg-[#129BFF]",children:"Save"}),e.jsx(d,{className:"py-1 px-6 text-xs !rounded-md border-2 border-white font-normal hover:!bg-white hover:text-black transition-colors duration-200 ease-in-out",onClick:x,children:"Cancel"})]})]})})})]})},F=b()(y);export{F as default};

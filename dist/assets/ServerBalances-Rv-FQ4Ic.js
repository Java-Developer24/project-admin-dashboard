import{A as p,u as f,r as t,j as e,B as i,I as h,S as j,b,_ as n}from"./index--FpPv6_1.js";const y=()=>{const o=f(),d=localStorage.getItem("token"),[m,x]=t.useState({server1:{balance:0,currency:"p"},server2:{balance:0,currency:"p"},server3:{balance:0,currency:"$"},server4:{balance:0,currency:"p"},server5:{balance:0,currency:"p"},server6:{balance:0,currency:"p"},server7:{balance:0,currency:"$"},server8:{balance:0,currency:"p"}}),[s,c]=t.useState(!0),v={server1:"FastSMS",server2:"5sim",server3:"SMSHUB",server4:"GRIZZLYSMS",server5:"TEMPNUMBER",server7:"SMSBOWER",server6:"SMS-ACTIVATE.guru",server8:"CCPAY"},a=async()=>{try{c(!0);const r=await b.get("/api/server/admin-api/balances-get-server/server-balances",{headers:{Authorization:`Bearer ${d}`}});x(r.data)}catch(r){console.error("Error fetching balances:",r),r.response?n.error(r.response.data.message||"Failed to update OTP check setting"):r.request?n.error("No response received from server"):n.error(`Error: ${r.message}`)}finally{c(!1)}};t.useEffect(()=>{a();const r=setInterval(a,3e5);return()=>clearInterval(r)},[]);const u=()=>o("/");return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full my-4 flex items-center justify-between",children:e.jsxs(i,{variant:"link",onClick:u,className:"text-sm font-normal text-[#8C8C8C] !no-underline p-1 h-0 flex gap-2",children:[e.jsx(h.arrowLeft,{className:"w-4 h-4"})," Server Balances"]})}),e.jsx("div",{className:"flex items-center justify-center pt-[1rem]",children:e.jsx("div",{className:"bg-transparent w-full rounded-lg mb-[60px] border-none dark",children:s?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(j,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:Object.entries(m).map(([r,l],g)=>e.jsx("div",{className:"bg-[#282828] p-2 rounded-lg shadow-lg hover:bg-[#2a2a2a] transition-colors",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsxs("h3",{className:"text-sm   text-gray-200",children:["Server ",g+1]}),e.jsx("span",{className:"text-sm text-gray-200",children:v[r]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-200 text-sm",children:"Balance:"}),e.jsxs("span",{className:"text-sm font-bold text-primary",children:[(l.balance||0).toFixed(2)," ",l.currency||"N/A"]})]})]})},r))}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(i,{onClick:a,className:"bg-primary hover:bg-primary/90 text-white",disabled:s,children:s?"Refreshing...":"Refresh Balances"})})]})})})]})},S=p()(y);export{S as default};

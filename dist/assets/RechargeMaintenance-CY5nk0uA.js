import{A as f,u as x,r as i,b as l,j as t,B as y,I as j,f as v,_ as c}from"./index--FpPv6_1.js";import{S as w}from"./Switch-ClYcvtk9.js";import"./index-BzNKqasO.js";import"./index-DiOThvEn.js";const N=()=>{const m=x(),p=localStorage.getItem("token"),[r,o]=i.useState([{type:"upi",status:!1},{type:"trx",status:!1}]);i.useEffect(()=>{d()},[]);const d=async()=>{try{const s=(await Promise.all(r.map(a=>l.get(`/api/recharge/admin-api/recharge-data-maintenance/get-recharge-maintenance?rechargeType=${a.type}`)))).map((a,n)=>({...r[n],status:a.data.maintenance}));o(s)}catch(e){console.error("Error fetching maintenance statuses:",e)}},h=async(e,s)=>{try{await l.post("/api/recharge/admin-api/recharge-maintence-update/updateRechargeMaintence",{rechargeType:e,status:s},{headers:{Authorization:`Bearer ${p}`}}),o(a=>a.map(n=>n.type===e?{...n,status:s}:n))}catch(a){console.error("Error toggling maintenance status:",a),a.response?c.error(a.response.data.message||"Failed to update OTP check setting"):a.request?c.error("No response received from server"):c.error(`Error: ${a.message}`)}},g=(e,s)=>{h(e,s)},u=()=>m("/admin-panel");return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full my-4 flex items-center justify-between",children:t.jsxs(y,{variant:"link",onClick:u,className:"text-sm font-normal text-[#8C8C8C] !no-underline p-1 h-0 flex gap-2",children:[t.jsx(j.arrowLeft,{className:"w-4 h-4"})," Recharge Maintenance"]})}),t.jsx("div",{className:"flex items-center justify-center pt-[1rem]",children:t.jsx("div",{className:"bg-transparent w-full max-w-md rounded-lg mb-[60px] border-none dark",children:t.jsx("div",{className:"my-4",children:r.map(e=>t.jsxs("div",{className:v({variant:"login",className:"w-full text-sm font-normal h-14 text-white !bg-[#282828] !hover:bg-[#282828] !justify-between !transform-none"}),children:[e.type.toUpperCase(),t.jsx(w,{checked:e.status,onCheckedChange:s=>g(e.type,s)})]},e.type))})})})]})},M=f()(N);export{M as default};

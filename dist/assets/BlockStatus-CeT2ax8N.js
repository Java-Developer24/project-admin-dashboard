import{A as f,u as k,r as i,b as m,_ as r,j as t,B as x,I as b,f as v}from"./index--FpPv6_1.js";import{S as j}from"./Switch-ClYcvtk9.js";import"./index-BzNKqasO.js";import"./index-DiOThvEn.js";const y=()=>{const u=k(),c=localStorage.getItem("token"),[n,l]=i.useState([{type:"User_Fraud",status:!1,name:"User Fraud"}]);i.useEffect(()=>{d()},[]);const d=async()=>{try{const a=(await Promise.all(n.map(s=>m.get(`/api/block/admin-api/block-status-data/get-block-status?blockType=${s.type}`,{headers:{Authorization:`Bearer ${c}`}})))).map((s,o)=>({...n[o],status:s.data.status}));l(a)}catch(e){console.error("Error fetching block statuses:",e),e.response?r.error(e.response.data.message||"Failed to update OTP check setting"):e.request?r.error("No response received from server"):r.error(`Error: ${e.message}`)}},p=async(e,a)=>{try{await m.post("/api/block/admin-api/block-status-update/block-status-toggle",{blockType:e,status:a},{headers:{Authorization:`Bearer ${c}`}}),l(s=>s.map(o=>o.type===e?{...o,status:a}:o))}catch(s){console.error("Error toggling block status:",s),s.response?r.error(s.response.data.message||"Failed to update OTP check setting"):s.request?r.error("No response received from server"):r.error(`Error: ${s.message}`)}},g=(e,a)=>{p(e,a)},h=()=>u("/admin-panel");return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full my-4 flex items-center justify-between",children:t.jsxs(x,{variant:"link",onClick:h,className:"text-sm font-normal text-[#8C8C8C] !no-underline p-1 h-0 flex gap-2",children:[t.jsx(b.arrowLeft,{className:"w-4 h-4"})," Block Status"]})}),t.jsx("div",{className:"flex items-center justify-center pt-[1rem]",children:t.jsx("div",{className:"bg-transparent w-full max-w-md rounded-lg mb-[60px] border-none dark",children:t.jsx("div",{className:"my-4",children:n.map(e=>t.jsxs("div",{className:v({variant:"login",className:"w-full text-sm font-normal h-14 text-white !bg-[#282828] !hover:bg-[#282828] !justify-between !transform-none"}),children:[e.name.toUpperCase(),t.jsx(j,{checked:e.status,onCheckedChange:a=>g(e.type,a)})]},e.type))})})})]})},C=f()(y);export{C as default};
